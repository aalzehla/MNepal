@model MNepalWeb.ViewModel.ChargeVM
@{
    ViewBag.Title = "DeductCharge";
}
<section class="content">

    <div class="row">
        <div class="col-md-6">
            <!-- general form elements -->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Info</h3>
                </div>
                <!-- /.box-header -->
                <!-- form start -->
                @using (Html.BeginForm("DeductCharge", "Customer", FormMethod.Post))
                {
                

                @Html.HiddenFor(x => x.UserInfo.UserName)
                @Html.HiddenFor(x => x.UserInfo.ClientCode)

                <div class="box-body">
                 
                        <table style="width:100%">
                            <tr>
                                <td>Name</td>
                                <td>:</td>
                                <td>@Model.UserInfo.Name</td>
                            </tr>
                            <tr>
                                <td>UserName</td>
                                <td>:</td>
                                <td>@Model.UserInfo.UserName</td>
                            </tr>
                            <tr>
                                <td>Address</td>
                                <td>:</td>
                                <td>@Model.UserInfo.Address</td>
                            </tr>
                            <tr>
                                <td>Current Profile</td>
                                <td>:</td>
                                <td>@Model.ProfileCharge.ProfileCode</td>
                            </tr>
                        </table>
                   
                    <fieldset>
                        <legend>Charges</legend>
                        <table style="width:45%">
                            <tr>
                                <td>Registration Charge</td>
                                <td>:</td>
                                <td>@Model.ProfileCharge.Registration</td>
                                <td>@Html.CheckBoxFor(x=>x.ChargeReg)</td>
                            </tr>
                            <tr>
                                <td>Pin Reset</td>
                                <td>:</td>
                                <td>@Model.ProfileCharge.PinReset</td>
                                <td>@Html.CheckBoxFor(x => x.ChargePinReset)</td>
                            </tr>
                            <tr>
                                <td>Renew Charge</td>
                                <td>:</td>
                                <td>@Model.ProfileCharge.ReNew</td>
                                <td>@Html.CheckBoxFor(x => x.ChargeRenew)</td>
                            </tr>
                        </table>
                       
                    </fieldset>
                </div>


                <button type="submit">Submit</button>
                <input type="button" value="Submit"/>
                }
            </div>

        </div>


        <!--for past charge history-->
        <div class="col-md-6">
            <!-- general form elements -->
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Past Charge History of @Model.UserInfo.Name</h3>
                </div>
                <!-- /.box-header -->
                <!-- form start -->
              <table class="table table-striped" id="charge">
                  <thead>
                      <tr>
                          <td>Description</td>
                          <td>Amount</td>
                          <td>Date</td>
                          <td>Processed By</td>
                          <td>Reference No</td>
                      </tr>
                  </thead>
                  <tbody>
                      @foreach(var item in Model.ChargeLogs)
                      {
                          <tr>
                              <td>@item.ChargeDescription</td>
                              <td>@item.ChargeAmount</td>
                              <td>@item.DeductedDate</td>
                              <td>@item.ProcessedBy</td>
                              <td>@item.RRNumber</td>

                          </tr>
                      }
                  </tbody>
              </table>
            </div>

        </div>

    </div> <!--row-->
</section>


@section scripts{
    <script>
        $('#charge').DataTable({
            "ordering": false,
            "filter": false,
            "sorting": false,
            "info": false,
            "lengthChange": false
        });

    </script>
    }