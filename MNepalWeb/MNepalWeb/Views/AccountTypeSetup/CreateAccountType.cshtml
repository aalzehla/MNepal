@model MNepalWeb.Models.AcTypeInfo

@{
    ViewBag.Title = "CreateAccountType";
}


<!-- =============================================== -->
<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Create Account Type
        <small>AccountType</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-user"></i>AccountType</a></li>
        <li class="active"> Create</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <!-- Main row -->
    <div class="row">

        @using (Html.BeginForm("CreateAccountType", "AccountTypeSetup", FormMethod.Post, new { @id = "AcTypeForm", @class = "form-horizontal" }))
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true)

            if (this.ViewData["actype_message"] != null)
                {
                    if (this.ViewData["message_class"].ToString() == "success_info")
                    {
                        <div class="alert alert-success">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <h4>Success</h4> @this.ViewData["actype_message"]
                        </div>
                    }
                    else
                    {
                        <div class="alert alert-danger">
                            <button type="button" class="close" data-dismiss="alert">&times;</button>
                            <h4>Error</h4> @this.ViewData["registration_message"]
                        </div>
                    }
                }

         <!-- Start -->
            <div class="col-xs-10">

                <div class="box box-info">
                    <div class="box-header with-border">
                        <h3 class="box-title">Create Account Type</h3>
                    </div>
                    <!-- /.box-header -->

                    <div class="box-body">
                        <div class="row">
                            <div class="col-md-9">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">AcType :<b style="color:red;">*</b></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="AcType" name="txtAcType" pattern=".{0,3}" required title="Please use Account Type" placeholder="Account Type" maxlength="2" />
                                        <label id="check"> Please use valid AcType </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-9">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Account Type Name:<b style="color:red;">*</b></label>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control" id="AcTypeName" name="txtAcTypeName" pattern=".{4,14}" required title="Please use Account Type Name" placeholder="Account Type Name" maxlength="30"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-9">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Allow Enquiry:<b style="color:red;">*</b></label>
                                    <div class="col-sm-8">
                                        <select class="form-control select2" id="AllowEnquiry" name="txtAllowEnquiry"  required title="Please select one" style="width: 100%;">
                                            <option value="">Select</option>
                                            <option value="T">T</option>
                                            <option value="F">F</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-9">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Allow Transaction:<b style="color:red;">*</b></label>
                                    <div class="col-sm-8">
                                        <select class="form-control select2" id="AllowTransaction" name="txtAllowTransaction"  required title="Please select one" style="width: 100%;">
                                            <option value="">Select</option>
                                            <option value="T">T</option>
                                            <option value="F">F</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-9">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Allow Alert:<b style="color:red;">*</b></label>
                                    <div class="col-sm-8">
                                        <select class="form-control select2" id="AllowAlert" name="txtAllowAlert"  required title="Please select one" style="width: 100%;">
                                            <option value="">Select</option>
                                            <option value="T">T</option>
                                            <option value="F">F</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-9">
                                <div class="form-group">
                                    <label class="control-label col-sm-4">Active:<b style="color:red;">*</b></label>
                                    <div class="col-sm-8">
                                        <select class="form-control select2" id="Active" name="txtActive"  required title="Please select one" style="width: 100%;">
                                            <option value="">Select</option>
                                            <option value="T">T</option>
                                            <option value="F">F</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-offset-2 col-md-10">
                                <input type="submit" class="btn btn-primary" name="btnCommand" value="Create" />
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        }

    </div>


</section>
<!-- /.content -->
<!-- =============================================== -->
@section scripts {


    <!-- Load jQuery and the validate plugin -->
    @*<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.js"></script>*@

    @*<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>*@
    @*<script src='http://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script>*@

    <!-- jQuery Form Validation code -->
    <script src="~/Content/dist/js/jquery.validate.js"></script>
    <script type="text/javascript">


            $("#AcType").change(function (event) {
                event.preventDefault();
                var id = $('#AcType').val();                       
                $.ajax({
                    cache: false,
                    type: "GET",
                    url: '@Url.Action("GetCheckingAcType", "AccountTypeSetup")',
                    data: { "AcType": id },
                    success: function (data, textStatus) {
                       
                        //alert(data);
                        if (data == "True") {
                            
                            $("#check").html("");
                            $("#check").css("color", "green");
                            $("#check").html("Success").show();
                        }
                        else {
                            $("#check").html("");
                            $("#check").css("color", "red");
                            $("#check").html("AcType Already Exists!").show();
                        }
                    },
                    error: function () {
                        alert("Data Not Found");
                    }
                });
            });


        /**Validation Check */
        $('#AcTypeForm').bootstrapValidator({
            feedbackIcons: {
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                txtAcType: {
                    validators: {
                        notEmpty: {
                            message: 'The AcType is required and cannot be empty'
                        }
                    }
                },
                txtAcTypeName: {
                    validators: {
                        notEmpty: {
                            message: 'The AcTypeName is required and cannot be empty'
                        }
                
                    }
                },
                 txtAllowEnquiry: {
                    validators: {
                        notEmpty: {
                            message: 'Please select one'
                        }

                    }
                 }, 
                 txtAllowTransaction: {
                     validators: {
                         notEmpty: {
                             message: 'Please select one'
                         }

                     }
                 },
                 txtAllowAlert: {
                     validators: {
                         notEmpty: {
                             message: 'Please select one'
                         }

                     }
                 },
                 txtActive: {
                     validators: {
                         notEmpty: {
                             message: 'Please select one'
                         }

                     }
                 }


               
            }
        });









   </script>
   }

<!-- =============================================== -->

