
@{
    ViewBag.Title = "AgentSearchInfo";
    Layout = null;
}

<!-- Start Data Show in Table -->
<div id="AgentSearchInfo" class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">Agent Details</h3>
    </div>
    <!-- /.box-header -->
    <div class="box-body">

        @if (ViewData["dtableAgentStatus"] == null)
        {
            <div class="panel-body"> <b>No Result Found !! </b> </div>
        }
        else if (ViewData["dtableAgentStatus"] != null)
        {
            <table class="table table-condensed">
                <thead>
                    <tr>
                        <th>UserName</th>
                        <th>Name</th>
                        <th>Email Address</th>
                        @*<th>ContactNumber</th>*@
                        <th>Status</th>
                        <th>IsApproved</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (System.Data.DataRow dr in (ViewData["dtableAgentStatus"] as System.Data.DataTable).Rows)
                {
                    <tr>
                        <td> @dr["UserName"] </td>
                        <td> @dr["Name"] </td>
                        <td> @dr["EmailAddress"]</td>
                        @*<td> @dr["ContactNumber1"] </td>*@

                        @*<td>
            @if (@dr["Status"].ToString() == "Active")
            {
                <span class="badge bg-green-active"> @dr["Status"] </span>
            }
            else
            {
                <span class="badge bg-red"> @dr["Status"] </span>
            }

        </td>*@




                        <td>
                            @if (@dr["BlockStatus"].ToString() == "Blocked")
                            {
                                <span class="badge bg-red">Block pending</span>
                            }
                            @if (@dr["BlockStatus"].ToString() == "Active")
                            {
                                <span class="badge bg-red">Active pending</span>
                            }
                            @if (@dr["BlockStatus"].ToString() == "" && @dr["Status"].ToString() == "Active")
                            {
                                <span class="badge bg-green-active">Active </span>
                            }


                            @if (@dr["BlockStatus"].ToString() == "" && @dr["Status"].ToString() == "Blocked")
                            {
                                <span class="badge bg-red">Blocked </span>
                            }
                        </td>

                        <td>
                            @if (@dr["BlockStatus"].ToString() == "Blocked" || @dr["BlockStatus"].ToString() == "Active")

                            {
                                <span class="badge bg-red">UnApprove </span>
                            }
                            else
                            {
                                <span class="badge bg-green-active"> @dr["IsApproved"] </span>
                            }


                        </td>
                        <td>
                            <a href="@Url.Action("AgentStatusChange","Agent", new { id = @dr["ClientCode"] } )">Update</a>
                        </td>
                    </tr>
                    } <!-- for each end-->
                </tbody>
            </table>
        }

    </div>
</div>
<!-- End Data Show in Table -->


